# Контейнизирано приложение „Guestbook“

- Това хранилище съдържа просто **full-stack** уеб приложение тип „гостна книга“, напълно контейнеризирано с **Docker** и оркестрирано с **Docker Compose**. Проектът е разработен като практическо задание с цел да демонстрира целия процес по контейнеризация на многокомпонентно приложение от нулата.

## Бързи връзки

- **Docker Hub образ:** https://hub.docker.com/stefantriv/guestbook-backend:1.0.0



## 1. Общ преглед и цел на проекта

Основната цел на проекта е да приложим на практика основите на Docker и Docker Compose в реалистичен контекст. Заданието включва създаване на бекенд сървър и база данни, които трябва да бъдат контейнеризирани и стартирани с една единствена команда.

Приложението представлява уеб-базирана гостна книга, в която потребителите могат да въвеждат своето име и съобщение. Въведените данни се запазват в база и се визуализират в реално време за всички.



## 2. От локална разработка до Docker

### Първоначална архитектура

- Проектът е структуриран с две основни услуги:

- **Бекенд услуга**: Създадена с **Node.js** и **Express.js**. Сервира опростен HTML/CSS/JS интерфейс и предоставя **REST API** за взаимодействие с данните.
- **База данни**: **MySQL**, където се съхраняват всички съобщения.

### Проблемите, които решава Docker

Без Docker, разработчик трябва да:

- Инсталира Node.js и npm зависимости
- Инсталира и конфигурира MySQL локално
- Настройва ръчно базата, потребители, пароли
- Стартира и следи две отделни услуги

С Docker всичко това става автоматично, благодарение на `Dockerfile` и `compose.yaml`.



## 3. Използвани технологии и инструменти

- **Бекенд**: Node.js, Express.js, `mysql2` npm пакет  
- **База данни**: MySQL 8.0  
- **Контейнеризация**: Docker, Docker Compose  
- **Контрол на версиите**: Git  
- **Хостинг на код**: GitHub  
- **Регистър на образи**: Docker Hub  
- **Редактор**: Visual Studio Code

## 4. Структура на проекта

/docker-guestbook
├── backend/
│ ├── Dockerfile # Инструкции за създаване на Docker образ за Node.js бекенда
│ ├── index.html # Потребителският интерфейс
│ ├── package.json # Node.js зависимости и скриптове
│ └── server.js # Express логика и връзка с база данни
└── compose.yml # Главен Docker Compose файл, дефиниращ услугите



## 5.  Обяснение на Docker конфигурацията

### `backend/Dockerfile` – създаване на персонализиран образ

```Dockerfile
FROM node:18-alpine
WORKDIR /usr/src/app
COPY package*.json ./
RUN npm install
COPY . .
CMD ["node", "server.js"]
```
Това е минимален, но пълноценен Dockerfile за Node.js приложение.

### compose.yml – оркестрация на услугите
```yaml
services:
  backend:
    build: ./backend
    ports:
      - "3000:3000"
    environment:
      DB_HOST: db
      DB_USER: guestbook_user
      DB_PASSWORD: secret
      DB_NAME: guestbook
    depends_on:
      - db

  db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: rootpass
      MYSQL_DATABASE: guestbook
      MYSQL_USER: guestbook_user
      MYSQL_PASSWORD: secret
    volumes:
      - db-data:/var/lib/mysql

volumes:
  db-data:
```
## 6. Ролята на Docker Hub
Какво е Docker Hub?
- Docker Hub е облачна услуга за съхранение и споделяне на Docker образи.

Защо го използваме?

- Съхранение и разпространение: След като създадем образа, го качваме в Docker Hub, за да бъде достъпен от всяко място.
- Портируемост: Други потребители или сървъри могат директно да изтеглят образа без достъп до кода.
- Разделяне на билд и стартиране: В CI/CD процеси билдът и стартирането са разделени – тук реализираме първата част.

Процедура:

```bash

docker login
docker tag <image_id> stefantriv/guestbook-backend:1.0.0
docker push stefantriv/guestbook-backend:1.0.0
```
## 7.  Стартиране на приложението локално
### Изисквания
- Git
- Docker Desktop (включва Docker и Docker Compose)

- Стъпки
Клонираме репото:

```bash
Копиране на код
git clone https://github.com/maria297/docker-guestbook-assignment
cd docker-guestbook
```
- Стартирайте контейнерите:

```bash

docker compose up --build
```
-Изграждаме образа на бекенда, изтегля се MySQL образа и двата контейнера ще стартират автоматично.

### Достъп до приложението:
- Отваряме браузър и отиваме на:

```arduino

http://localhost:3000
```
## Спиране и почистване
-За да спрем услугата: В терминала натискаме Ctrl + C
-Пълно спиране и изтриване на контейнери, мрежи и volumes:

```bash

docker compose down --volumes
```
-Флагът --volumes премахва volume-а db-data, за да започнем на чисто при следващо стартиране.
## Заключение
Този проект показва как можем да преминем от обикновена локална Node.js + MySQL конфигурация към модерно, контейнеризирано full-stack приложение с еднократна настройка и пълна преносимост.
